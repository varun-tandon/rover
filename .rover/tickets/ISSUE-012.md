# ISSUE-012: Throttle function lacks documentation on behavior

**Severity**: Medium
**Category**: Event Obscurity
**Detected by**: obviousness-auditor
**File**: `src/components/App.tsx:23-46`

## Description

The throttle helper function appears in both App.tsx and BatchApp.tsx but lacks documentation explaining:
- HOW it throttles (leading edge vs trailing edge)
- WHAT happens to calls that are throttled (are they dropped or delayed?)
- WHY this specific implementation was chosen

The implementation uses a setTimeout to ensure the trailing call executes, but this is not obvious from reading the function signature or usage sites.

## Problematic Code

```typescript
function throttle<T extends (...args: Parameters<T>) => void>(
  fn: T,
  delay: number
): T {
```

## Recommendation

Add JSDoc explaining the throttling strategy: 'Throttles function calls to execute at most once per delay period. Uses leading-edge execution with a trailing-edge guarantee: immediate first call, then subsequent calls are queued until delay elapses.' Also mention this is duplicated in BatchApp.tsx and should potentially be extracted to a shared utility.

## Voting Summary

**Result**: 3/3 votes to approve

- **Voter 1**: Approved - "Genuine issue. The throttle implementations differ significantly: App.tsx (lines 23-46) uses leading+trailing edge with setTimeout guarantee, while BatchApp.tsx (lines 28-37) uses simpler leading-edge only. Both lack documentation explaining behavior. The duplication and inconsistent implementations increase cognitive load. JSDoc would clarify the different throttling strategies and alert developers to the duplication. Severity 'medium' is appropriate."
- **Voter 2**: Approved - "This is a genuine issue. The throttle function in App.tsx (lines 23-46) is indeed complex with non-obvious behavior: it implements leading-edge execution with trailing-edge guarantee via setTimeout, but lacks any documentation. The simpler version in BatchApp.tsx (lines 28-37) only does leading-edge throttling without the trailing call. The implementations differ significantly yet both are undocumented. The recommendation to add JSDoc is appropriate, and noting the duplication is valuable. This would meaningfully improve code maintainability and reduce cognitive load for future developers."
- **Voter 3**: Approved - "Genuine issue. The throttle function in App.tsx (lines 23-46) has complex behavior with leading+trailing execution and setTimeout logic that is non-obvious. BatchApp.tsx (lines 27-37) has a simpler leading-only implementation, showing inconsistency. Both lack documentation explaining their different throttling strategies. The recommendation to add JSDoc and consider extracting to shared utility is sound - this would reduce cognitive load and prevent bugs from using the wrong implementation."

---
*Generated by Rover on December 12, 2025*