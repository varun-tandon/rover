# ISSUE-004: Rover directory path construction repeated across storage modules

**Severity**: Low
**Category**: Repeated Logic
**Detected by**: cohesion-analyzer
**File**: `src/storage/issues.ts:14-23`

## Description

The pattern of constructing paths within the .rover directory appears multiple times: getRoverDir is defined in issues.ts and used to build getIssuesPath, while tickets.ts imports getRoverDir to create getTicketsDir. This tight coupling between storage modules suggests they share common path construction logic.

## Problematic Code

```typescript
export function getRoverDir(targetPath: string): string {
  return join(targetPath, ROVER_DIR);
}

export function getIssuesPath(targetPath: string): string {
  return join(getRoverDir(targetPath), ISSUES_FILE);
}
```

## Recommendation

Create a dedicated paths utility module (e.g., src/storage/paths.ts) that exports all Rover directory path functions (getRoverDir, getIssuesPath, getTicketsDir). This centralizes path construction logic and makes the storage module structure clearer.

## Voting Summary

**Result**: 3/3 votes to approve

- **Voter 1**: Approved - "Genuine issue. getRoverDir is exported from issues.ts and imported by tickets.ts, creating cross-module coupling. Both modules also define similar path construction patterns. A dedicated paths.ts module would centralize this logic, reduce coupling, and make the architecture clearer. The recommendation is sensible and would improve maintainability."
- **Voter 2**: Approved - "This is a genuine cohesion issue. getRoverDir is defined in issues.ts and exported for use by tickets.ts, which imports it to construct getTicketsDir. Both modules share the same ROVER_DIR constant pattern. The path construction logic is tightly coupled but scattered. Creating a dedicated paths.ts module would improve single responsibility, reduce coupling between storage modules, and provide a clear location for all .rover directory path utilities. The severity of 'low' is appropriate - this is a minor architectural improvement."
- **Voter 3**: Approved - "Issue is genuine. getRoverDir is defined in issues.ts and imported by tickets.ts, creating cross-module dependency. Both modules use similar path construction patterns (getRoverDir, getIssuesPath, getTicketsDir). Extracting to a shared paths.ts utility would eliminate the coupling, improve organization, and make path management more maintainable. The recommendation is sensible and low-risk."

---
*Generated by Rover on December 12, 2025*