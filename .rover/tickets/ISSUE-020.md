# ISSUE-020: Magic number 300 in voter progress throttle without explanation

**Severity**: Medium
**Category**: Missing Why
**Detected by**: why-asker
**File**: `src/components/App.tsx:84-93`

## Description

The code uses 300ms as the throttle delay for voter updates, but there's no explanation of WHY 300ms specifically. This is different from the 200ms used for scan messages - the difference in timing should be explained.

## Problematic Code

```typescript
const voterProgressRef = useRef<Map<string, number>>(new Map());
const throttledUpdateVoters = useRef(
  throttle(() => {
    setVoterStatuses(prev => prev.map(v => ({
      ...v,
      status: 'voting' as const,
      votesCompleted: voterProgressRef.current.get(v.id) ?? v.votesCompleted
    })));
  }, 300)
).current;
```

## Recommendation

Add a comment explaining the 300ms choice and why it differs from the scan message throttle: '// 300ms throttle (vs 200ms for scan messages) because voter updates are less critical for user feedback and happen more frequently'

## Voting Summary

**Result**: 3/3 votes to approve

- **Voter 1**: Approved - "This is a genuine issue. The code uses 300ms throttling for voter updates (line 92) and 200ms for scan messages (line 70), but provides no explanation for the different values. The comment on line 68 explains the scan message throttle purpose, but there's no equivalent comment for the voter throttle. The recommended fix would provide valuable context about why these magic numbers differ, improving code maintainability. The severity of 'medium' is appropriate - it's not critical but would genuinely improve code quality."
- **Voter 2**: Approved - "The issue is genuine. Line 68-71 shows scan messages throttled at 200ms with a comment explaining it limits updates every 200ms. Lines 84-93 show voter updates throttled at 300ms with only a generic comment 'Track voter progress without triggering re-renders on every vote' that doesn't explain the 300ms choice or why it differs from the 200ms. The recommendation is sensible and would improve code documentation by explaining the timing difference, which appears intentional but undocumented."
- **Voter 3**: Approved - "Genuine issue. The code has two different throttle delays (200ms at line 70 for scan messages, 300ms at line 92 for voter updates) without explaining why they differ. The scanner correctly identifies that magic numbers representing timing decisions should explain their rationale, especially when there are multiple different values in the same file. Adding a comment explaining the 300ms choice and why it differs from 200ms would improve code maintainability and help future developers understand the deliberate timing tradeoff."

---
*Generated by Rover on December 12, 2025*