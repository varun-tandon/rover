# ISSUE-041: summarizeExistingIssues exposes implementation details

**Severity**: Low
**Category**: Implementation Leak
**Detected by**: interface-documenter
**File**: `src/storage/issues.ts:185-189`

## Description

The JSDoc comment for `summarizeExistingIssues` says 'Use an LLM to create a condensed summary' which exposes implementation details. Interface documentation should describe WHAT it does (creates a summary for deduplication) and WHY (to prevent duplicate detection), not HOW (using an LLM).

## Problematic Code

```typescript
/**
 * Use an LLM to create a condensed summary of existing issues for deduplication.
 * Groups similar issues and creates short fingerprints that scanners can check against.
 */
export async function summarizeExistingIssues(targetPath: string): Promise<string>
```

## Recommendation

Rewrite the documentation to focus on the purpose and usage: 'Creates a condensed summary of existing issues to help scanners avoid detecting duplicates. Returns a formatted string suitable for inclusion in scanner prompts.'

## Voting Summary

**Result**: 3/3 votes to approve

- **Voter 1**: Approved - "The issue is genuine. The JSDoc explicitly mentions 'Use an LLM' which is an implementation detail. The code confirms this - the function actually uses Claude Sonnet for summarization when there are >5 issues, but falls back to simple formatting for <=5 issues. Good interface documentation should describe what the function returns and why it's needed for deduplication, not reveal the LLM implementation. The recommendation is sensible and would improve the API clarity without losing useful information."
- **Voter 2**: Approved - "The issue is genuine. The JSDoc explicitly states 'Use an LLM to create a condensed summary' which is an implementation detail. The function's actual implementation at lines 204-244 confirms it uses an LLM via Anthropic API for larger issue sets. Interface documentation should describe the function's contract (what it does and why) not its internal mechanism (how). The recommendation to focus on purpose ('creates a condensed summary to help scanners avoid duplicates') instead of implementation ('uses an LLM') is valid and would improve API documentation quality."
- **Voter 3**: Approved - "The issue is genuine. The current JSDoc explicitly states 'Use an LLM to create a condensed summary' which is an implementation detail. The function's implementation clearly shows it sometimes uses an LLM (lines 215-233) but also has a simple formatting path (lines 197-201). Good interface documentation should focus on the contract (what, why, when) not the implementation (how). The recommendation to rewrite focusing on purpose and usage is appropriate, and the severity of 'low' is reasonable since the function still works correctly - this is purely a documentation quality issue."

---
*Generated by Rover on December 12, 2025*