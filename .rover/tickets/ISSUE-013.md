# ISSUE-013: summarizeExistingIssues requires ANTHROPIC_API_KEY without documentation

**Severity**: Medium
**Category**: Implicit Dependency
**Detected by**: obviousness-auditor
**File**: `src/storage/issues.ts:189-245`

## Description

The function summarizeExistingIssues creates a new Anthropic client without any documentation that an ANTHROPIC_API_KEY environment variable must be set. This implicit dependency is not evident from the function signature or surrounding context. If the key is missing, the function will fail at runtime with an unclear error.

## Problematic Code

```typescript
const client = new Anthropic();
// No indication that ANTHROPIC_API_KEY env var is required
```

## Recommendation

Add JSDoc documenting the environment variable requirement: '@requires ANTHROPIC_API_KEY environment variable must be set'. Consider checking for the API key at the start and throwing a clear error message if missing, or accepting the client as a parameter to make the dependency explicit.

## Voting Summary

**Result**: 2/3 votes to approve

- **Voter 1**: Rejected - "No reasoning provided"
- **Voter 2**: Approved - "This is a genuine issue. The function `summarizeExistingIssues` at line 213 creates a new Anthropic client without any documentation about the required ANTHROPIC_API_KEY environment variable. This is an implicit dependency that will cause runtime failures with unclear errors if the key is missing. The function has JSDoc documentation but doesn't mention this requirement. Adding documentation and/or explicit error handling would improve code maintainability and debugging. The recommendation is sensible and proportionate to the severity."
- **Voter 3**: Approved - "This is a genuine issue. Line 213 creates a new Anthropic client without any documentation about the ANTHROPIC_API_KEY environment variable requirement. The function has JSDoc at line 185-188 but doesn't mention this implicit dependency. If the API key is missing, the code will fail at runtime with a non-obvious error. Adding documentation and/or explicit validation would improve code clarity and error handling, making it easier for developers to understand requirements and debug issues."

---
*Generated by Rover on December 12, 2025*