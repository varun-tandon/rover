# ISSUE-023: Concurrency default of 4 lacks explanation

**Severity**: Medium
**Category**: Missing Why
**Detected by**: why-asker
**File**: `src/agents/batch-runner.ts:38-38`

## Description

The DEFAULT_CONCURRENCY is set to 4 with no explanation of WHY this value was chosen. Is it based on API rate limits, system resources, cost optimization, or testing?

## Problematic Code

```typescript
const DEFAULT_CONCURRENCY = 4;
```

## Recommendation

Add a comment explaining the concurrency choice: '// DEFAULT_CONCURRENCY = 4: Balances speed with API rate limits and cost control. Testing showed 4 parallel agents provides optimal throughput without hitting rate limits or causing excessive costs.'

## Voting Summary

**Result**: 3/3 votes to approve

- **Voter 1**: Approved - "The issue is genuine. DEFAULT_CONCURRENCY = 4 is a magic number without justification. The value appears arbitrary and understanding WHY 4 was chosen (performance testing, API limits, resource constraints) would help future maintainers make informed decisions about whether to adjust it. The severity of 'medium' is appropriate as this affects system behavior but isn't critical. Adding a 'why' comment would meaningfully improve code maintainability."
- **Voter 2**: Approved - "This is a genuine issue. DEFAULT_CONCURRENCY = 4 is used to control parallel execution (line 163), which directly impacts API costs, rate limits, and performance. The value appears arbitrary without explanation. The voter concurrency on line 113 is hardcoded to 3, and other constants like MAX_RETRIES have context from usage, but DEFAULT_CONCURRENCY lacks justification. Understanding why 4 was chosen would help maintainers adjust it appropriately for different environments or constraints. The severity is appropriately medium - not critical but would improve code maintainability."
- **Voter 3**: Approved - "Genuine issue. The DEFAULT_CONCURRENCY value of 4 is a magic number with no explanation for why this specific value was chosen. Given that concurrency affects API rate limits, costs, and performance (as evidenced by line 113 using hardcoded '3' for voter concurrency), explaining the rationale would help future maintainers understand if this value should be adjusted for different environments or use cases. The recommendation is sensible and would improve code maintainability."

---
*Generated by Rover on December 12, 2025*